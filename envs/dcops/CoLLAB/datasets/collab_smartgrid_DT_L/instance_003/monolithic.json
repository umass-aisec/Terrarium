{
  "prompts": {
    "__DELIBERATION__": "## ROLE\nYou are the CENTRAL SCHEDULER for a neighborhood smart grid.\n\n## WHAT YOU WILL RECEIVE\nAFTER this prompt, you will receive a LIST of AGENT PREFERENCE BLOCKS.\nEach block corresponds to exactly one home and begins with a header line, e.g.:\n  [AGENT_ID=AGENT_HX][HOME_ID=HX]\nThe block then contains:\n  1) A machine-readable TASK CATALOG listing every schedulable task for that home; and\n  2) Free-form first-person preferences (and optional semi-structured hints).\n\nYou MUST discover all home IDs, task IDs, durations, consumptions, and allowed start intervals\nexclusively from these attached blocks. Do not assume any information not present in them.\n\n## EXAMPLE FORMAT (PLACEHOLDERS ONLY \u2014 NOT REAL DATA)\n[AGENT_ID=AGENT_HX][HOME_ID=HX]\nTASK CATALOG:\n  - task_id=DRYER_HX; device_base=\"DRYER\"; consumption=3; duration=2; allowed=[ [6,9], [18,20] ]\n  - task_id=DISHWASHER_HX; device_base=\"DISHWASHER\"; consumption=2; duration=3; allowed=[ [10,14] ]\nPREFERENCES:\n  I prefer to avoid late-night noise. If possible, finish DRYER before 21.\n  avoid_hours: [22,23,0,1,2,3,4,5]\n  deadline: {\"task_id\":\"DRYER_HX\",\"finish_by\":21}\n----\nYou may receive many such blocks, one per home/agent.\n\n## PRIMARY OBJECTIVE\nMinimize total main-grid draw while respecting feasibility (one valid start per task within its allowed windows).\n\n## SCORING MODEL\nLet D[t] be total neighborhood demand at slot t from all running tasks.\nMain-grid draw G[t] = max(0, D[t] - S_cap[t]).\nMinimize Sum_t G[t].\n\nHorizon T = 24\nS_cap (per-slot sustainable capacity):\n  [12.044, 12.928, 13.649, 13.598, 14.069, 14.091, 14.127, 14.7, 14.393, 13.408, 13.111, 12.256, 11.705, 11.089, 10.82, 10.555, 9.909, 9.603, 9.26, 9.673, 9.953, 10.117, 11.085, 11.083]\n\n## DELIBERATION STEPS\n1) Parse each attached block; extract HOME_ID and enumerate its TASK CATALOG.\n2) For each task, derive the feasible start times from the provided allowed intervals.\n3) Construct a schedule aligning heavier loads to greener (higher S_cap) slots.\n4) Integrate preferences (soft) and explicit hard constraints from the text/hints.\n5) Ensure exactly one valid start for every discovered task.\n6) Emit the final JSON.\n\n## PROHIBITIONS\n\u2022 Do NOT invent any homes or tasks not present in the attached blocks.\n\u2022 Do NOT rely on any per-home details beyond what is stated in the blocks.",
    "__JSON_MODE__": "## INSTRUCTIONS (JSON-MODE)\nEmit EXACTLY one JSON object mapping \"<HOME_ID>::<TASK_ID>\" to integer start times.\nYou must cover EVERY task discovered from the ATTACHED AGENT BLOCKS (Stage 0 outputs).\n\nExample:\n  {\"H0::WASHER\": 5, \"H0::DRYER\": 12}\n\nValidation checklist (MANDATORY):\n1) Flat object only; do NOT nest by home.\n2) Keys are strings <HOME_ID>::<TASK_ID> that EXACTLY match IDs in the blocks.\n3) Values are integer start_time.\n4) Each start_time lies within the union of allowed intervals listed for that task in its catalog.\n5) No extra keys, comments, or trailing text. Valid JSON only.",
    "__AGENT__AGENT_H0": "#INSTRUCTION FOR AGENT_H0 (HOME H0)\n\nPut this EXACT header at the very top of your reply so the central scheduler can link your text:\n[AGENT_ID=AGENT_H0][HOME_ID=H0]\n\n## TASK CATALOG (MANDATORY \u2014 machine-readable lines, one per task)\nList every schedulable task using exactly this format:\n  - task_id=<TASK_ID>; device_base=\"<DEVICE_BASE>\"; consumption=<kW:int|float>; duration=<L:int>; allowed=[ [a,b], [c,d], ... ]\nNow fill it with YOUR home\u2019s actual tasks below:\n  - task_id=Sauna; device_base=\"Sauna\"; consumption=6.0; duration=1; allowed=[ [0,5] ]\n  - task_id=AirPurifier; device_base=\"AirPurifier\"; consumption=0.09; duration=6; allowed=[ [7,10] ]\n  - task_id=Washer; device_base=\"Washer\"; consumption=0.5; duration=2; allowed=[ [17,21] ]\n  - task_id=WaterBoost; device_base=\"WaterBoost\"; consumption=4.5; duration=2; allowed=[ [4,8] ]\n  - task_id=Sauna_1; device_base=\"Sauna\"; consumption=6.0; duration=1; allowed=[ [16,18] ]\n  - task_id=Dehumid; device_base=\"Dehumid\"; consumption=0.7; duration=3; allowed=[ [2,3] ]\n\n## PREFERENCES (optional, free-form, first person)\nYou may describe scheduling preferences in words. IMPORTANT: Feasibility is fully determined by the TASK CATALOG (allowed start times, durations, consumption).\nUse statements like \"I prefer...\", \"I need...\", \"Please avoid...\". Examples (soft guidance only):\n- Reasons you favor certain times that are ALREADY allowed (e.g., evenings for laundry).\n- Willingness to shift within the allowed window to reduce neighborhood peaks.\n\nDo NOT request start times outside the allowed windows. Do NOT change durations or consumptions.\n\nDo NOT output JSON; send only this header line, the TASK CATALOG, and your preference text.",
    "__AGENT__AGENT_H1": "#INSTRUCTION FOR AGENT_H1 (HOME H1)\n\nPut this EXACT header at the very top of your reply so the central scheduler can link your text:\n[AGENT_ID=AGENT_H1][HOME_ID=H1]\n\n## TASK CATALOG (MANDATORY \u2014 machine-readable lines, one per task)\nList every schedulable task using exactly this format:\n  - task_id=<TASK_ID>; device_base=\"<DEVICE_BASE>\"; consumption=<kW:int|float>; duration=<L:int>; allowed=[ [a,b], [c,d], ... ]\nNow fill it with YOUR home\u2019s actual tasks below:\n  - task_id=Sauna; device_base=\"Sauna\"; consumption=6.0; duration=2; allowed=[ [12,16] ]\n  - task_id=EV_48A; device_base=\"EV\"; consumption=11.5; duration=7; allowed=[ [7,12] ]\n  - task_id=Dishwasher; device_base=\"Dishwasher\"; consumption=1.0; duration=2; allowed=[ [3,6] ]\n  - task_id=EV_48A_1; device_base=\"EV\"; consumption=11.5; duration=5; allowed=[ [15,17] ]\n  - task_id=Dishwasher_1; device_base=\"Dishwasher\"; consumption=1.0; duration=2; allowed=[ [13,16] ]\n  - task_id=Dehumid; device_base=\"Dehumid\"; consumption=0.7; duration=3; allowed=[ [16,20] ]\n\n## PREFERENCES (optional, free-form, first person)\nYou may describe scheduling preferences in words. IMPORTANT: Feasibility is fully determined by the TASK CATALOG (allowed start times, durations, consumption).\nUse statements like \"I prefer...\", \"I need...\", \"Please avoid...\". Examples (soft guidance only):\n- Reasons you favor certain times that are ALREADY allowed (e.g., evenings for laundry).\n- Willingness to shift within the allowed window to reduce neighborhood peaks.\n\nDo NOT request start times outside the allowed windows. Do NOT change durations or consumptions.\n\nDo NOT output JSON; send only this header line, the TASK CATALOG, and your preference text.",
    "__AGENT__AGENT_H2": "#INSTRUCTION FOR AGENT_H2 (HOME H2)\n\nPut this EXACT header at the very top of your reply so the central scheduler can link your text:\n[AGENT_ID=AGENT_H2][HOME_ID=H2]\n\n## TASK CATALOG (MANDATORY \u2014 machine-readable lines, one per task)\nList every schedulable task using exactly this format:\n  - task_id=<TASK_ID>; device_base=\"<DEVICE_BASE>\"; consumption=<kW:int|float>; duration=<L:int>; allowed=[ [a,b], [c,d], ... ]\nNow fill it with YOUR home\u2019s actual tasks below:\n  - task_id=Sauna; device_base=\"Sauna\"; consumption=6.0; duration=1; allowed=[ [19,22] ]\n  - task_id=WaterBoost; device_base=\"WaterBoost\"; consumption=4.5; duration=1; allowed=[ [17,20] ]\n  - task_id=AirPurifier; device_base=\"AirPurifier\"; consumption=0.09; duration=3; allowed=[ [18,20] ]\n  - task_id=Sauna_1; device_base=\"Sauna\"; consumption=6.0; duration=2; allowed=[ [3,6] ]\n  - task_id=PoolPump; device_base=\"PoolPump\"; consumption=1.1; duration=3; allowed=[ [15,19] ]\n  - task_id=Sauna_2; device_base=\"Sauna\"; consumption=6.0; duration=1; allowed=[ [2,5] ]\n  - task_id=Dryer; device_base=\"Dryer\"; consumption=2.8; duration=3; allowed=[ [0,2] ]\n  - task_id=WaterBoost_1; device_base=\"WaterBoost\"; consumption=4.5; duration=2; allowed=[ [13,17] ]\n\n## PREFERENCES (optional, free-form, first person)\nYou may describe scheduling preferences in words. IMPORTANT: Feasibility is fully determined by the TASK CATALOG (allowed start times, durations, consumption).\nUse statements like \"I prefer...\", \"I need...\", \"Please avoid...\". Examples (soft guidance only):\n- Reasons you favor certain times that are ALREADY allowed (e.g., evenings for laundry).\n- Willingness to shift within the allowed window to reduce neighborhood peaks.\n\nDo NOT request start times outside the allowed windows. Do NOT change durations or consumptions.\n\nDo NOT output JSON; send only this header line, the TASK CATALOG, and your preference text.",
    "__AGENT__AGENT_H3": "#INSTRUCTION FOR AGENT_H3 (HOME H3)\n\nPut this EXACT header at the very top of your reply so the central scheduler can link your text:\n[AGENT_ID=AGENT_H3][HOME_ID=H3]\n\n## TASK CATALOG (MANDATORY \u2014 machine-readable lines, one per task)\nList every schedulable task using exactly this format:\n  - task_id=<TASK_ID>; device_base=\"<DEVICE_BASE>\"; consumption=<kW:int|float>; duration=<L:int>; allowed=[ [a,b], [c,d], ... ]\nNow fill it with YOUR home\u2019s actual tasks below:\n  - task_id=EV_48A; device_base=\"EV\"; consumption=11.5; duration=7; allowed=[ [5,10] ]\n  - task_id=Sauna; device_base=\"Sauna\"; consumption=6.0; duration=2; allowed=[ [7,12] ]\n  - task_id=Sauna_1; device_base=\"Sauna\"; consumption=6.0; duration=1; allowed=[ [0,3] ]\n  - task_id=EV_48A_1; device_base=\"EV\"; consumption=11.5; duration=5; allowed=[ [17,18] ]\n  - task_id=PoolPump; device_base=\"PoolPump\"; consumption=1.1; duration=3; allowed=[ [13,15] ]\n\n## PREFERENCES (optional, free-form, first person)\nYou may describe scheduling preferences in words. IMPORTANT: Feasibility is fully determined by the TASK CATALOG (allowed start times, durations, consumption).\nUse statements like \"I prefer...\", \"I need...\", \"Please avoid...\". Examples (soft guidance only):\n- Reasons you favor certain times that are ALREADY allowed (e.g., evenings for laundry).\n- Willingness to shift within the allowed window to reduce neighborhood peaks.\n\nDo NOT request start times outside the allowed windows. Do NOT change durations or consumptions.\n\nDo NOT output JSON; send only this header line, the TASK CATALOG, and your preference text.",
    "__AGENT__AGENT_H4": "#INSTRUCTION FOR AGENT_H4 (HOME H4)\n\nPut this EXACT header at the very top of your reply so the central scheduler can link your text:\n[AGENT_ID=AGENT_H4][HOME_ID=H4]\n\n## TASK CATALOG (MANDATORY \u2014 machine-readable lines, one per task)\nList every schedulable task using exactly this format:\n  - task_id=<TASK_ID>; device_base=\"<DEVICE_BASE>\"; consumption=<kW:int|float>; duration=<L:int>; allowed=[ [a,b], [c,d], ... ]\nNow fill it with YOUR home\u2019s actual tasks below:\n  - task_id=Sauna; device_base=\"Sauna\"; consumption=6.0; duration=2; allowed=[ [12,14] ]\n  - task_id=Dishwasher; device_base=\"Dishwasher\"; consumption=1.0; duration=3; allowed=[ [16,20] ]\n  - task_id=Washer; device_base=\"Washer\"; consumption=0.5; duration=3; allowed=[ [3,8] ]\n  - task_id=VacDock; device_base=\"VacDock\"; consumption=0.18; duration=2; allowed=[ [7,11] ]\n  - task_id=EV_48A; device_base=\"EV\"; consumption=11.5; duration=6; allowed=[ [4,8] ]\n  - task_id=WaterBoost; device_base=\"WaterBoost\"; consumption=4.5; duration=2; allowed=[ [10,15] ]\n  - task_id=WaterBoost_1; device_base=\"WaterBoost\"; consumption=4.5; duration=1; allowed=[ [18,22] ]\n\n## PREFERENCES (optional, free-form, first person)\nYou may describe scheduling preferences in words. IMPORTANT: Feasibility is fully determined by the TASK CATALOG (allowed start times, durations, consumption).\nUse statements like \"I prefer...\", \"I need...\", \"Please avoid...\". Examples (soft guidance only):\n- Reasons you favor certain times that are ALREADY allowed (e.g., evenings for laundry).\n- Willingness to shift within the allowed window to reduce neighborhood peaks.\n\nDo NOT request start times outside the allowed windows. Do NOT change durations or consumptions.\n\nDo NOT output JSON; send only this header line, the TASK CATALOG, and your preference text.",
    "__AGENT__AGENT_H5": "#INSTRUCTION FOR AGENT_H5 (HOME H5)\n\nPut this EXACT header at the very top of your reply so the central scheduler can link your text:\n[AGENT_ID=AGENT_H5][HOME_ID=H5]\n\n## TASK CATALOG (MANDATORY \u2014 machine-readable lines, one per task)\nList every schedulable task using exactly this format:\n  - task_id=<TASK_ID>; device_base=\"<DEVICE_BASE>\"; consumption=<kW:int|float>; duration=<L:int>; allowed=[ [a,b], [c,d], ... ]\nNow fill it with YOUR home\u2019s actual tasks below:\n  - task_id=EV_48A; device_base=\"EV\"; consumption=11.5; duration=7; allowed=[ [7,10] ]\n  - task_id=PoolPump; device_base=\"PoolPump\"; consumption=1.1; duration=4; allowed=[ [8,11] ]\n  - task_id=Sauna; device_base=\"Sauna\"; consumption=6.0; duration=2; allowed=[ [18,19] ]\n  - task_id=Sauna_1; device_base=\"Sauna\"; consumption=6.0; duration=1; allowed=[ [11,12] ]\n  - task_id=Ebike; device_base=\"Ebike\"; consumption=0.48; duration=3; allowed=[ [9,13] ]\n  - task_id=Washer; device_base=\"Washer\"; consumption=0.5; duration=3; allowed=[ [11,13] ]\n  - task_id=EV_48A_1; device_base=\"EV\"; consumption=11.5; duration=5; allowed=[ [11,14] ]\n\n## PREFERENCES (optional, free-form, first person)\nYou may describe scheduling preferences in words. IMPORTANT: Feasibility is fully determined by the TASK CATALOG (allowed start times, durations, consumption).\nUse statements like \"I prefer...\", \"I need...\", \"Please avoid...\". Examples (soft guidance only):\n- Reasons you favor certain times that are ALREADY allowed (e.g., evenings for laundry).\n- Willingness to shift within the allowed window to reduce neighborhood peaks.\n\nDo NOT request start times outside the allowed windows. Do NOT change durations or consumptions.\n\nDo NOT output JSON; send only this header line, the TASK CATALOG, and your preference text.",
    "__AGENT__AGENT_H6": "#INSTRUCTION FOR AGENT_H6 (HOME H6)\n\nPut this EXACT header at the very top of your reply so the central scheduler can link your text:\n[AGENT_ID=AGENT_H6][HOME_ID=H6]\n\n## TASK CATALOG (MANDATORY \u2014 machine-readable lines, one per task)\nList every schedulable task using exactly this format:\n  - task_id=<TASK_ID>; device_base=\"<DEVICE_BASE>\"; consumption=<kW:int|float>; duration=<L:int>; allowed=[ [a,b], [c,d], ... ]\nNow fill it with YOUR home\u2019s actual tasks below:\n  - task_id=Dishwasher; device_base=\"Dishwasher\"; consumption=1.0; duration=2; allowed=[ [16,19] ]\n  - task_id=PoolPump; device_base=\"PoolPump\"; consumption=1.1; duration=3; allowed=[ [7,10] ]\n  - task_id=EV_32A; device_base=\"EV\"; consumption=7.7; duration=7; allowed=[ [13,15] ]\n  - task_id=EV_48A; device_base=\"EV\"; consumption=11.5; duration=7; allowed=[ [3,4] ]\n  - task_id=Sauna; device_base=\"Sauna\"; consumption=6.0; duration=2; allowed=[ [7,10] ]\n  - task_id=Ebike; device_base=\"Ebike\"; consumption=0.48; duration=3; allowed=[ [2,4] ]\n  - task_id=VacDock; device_base=\"VacDock\"; consumption=0.18; duration=2; allowed=[ [18,20] ]\n\n## PREFERENCES (optional, free-form, first person)\nYou may describe scheduling preferences in words. IMPORTANT: Feasibility is fully determined by the TASK CATALOG (allowed start times, durations, consumption).\nUse statements like \"I prefer...\", \"I need...\", \"Please avoid...\". Examples (soft guidance only):\n- Reasons you favor certain times that are ALREADY allowed (e.g., evenings for laundry).\n- Willingness to shift within the allowed window to reduce neighborhood peaks.\n\nDo NOT request start times outside the allowed windows. Do NOT change durations or consumptions.\n\nDo NOT output JSON; send only this header line, the TASK CATALOG, and your preference text.",
    "__AGENT__AGENT_H7": "#INSTRUCTION FOR AGENT_H7 (HOME H7)\n\nPut this EXACT header at the very top of your reply so the central scheduler can link your text:\n[AGENT_ID=AGENT_H7][HOME_ID=H7]\n\n## TASK CATALOG (MANDATORY \u2014 machine-readable lines, one per task)\nList every schedulable task using exactly this format:\n  - task_id=<TASK_ID>; device_base=\"<DEVICE_BASE>\"; consumption=<kW:int|float>; duration=<L:int>; allowed=[ [a,b], [c,d], ... ]\nNow fill it with YOUR home\u2019s actual tasks below:\n  - task_id=Dishwasher; device_base=\"Dishwasher\"; consumption=1.0; duration=2; allowed=[ [10,13] ]\n  - task_id=Dryer; device_base=\"Dryer\"; consumption=2.8; duration=4; allowed=[ [19,20] ]\n  - task_id=EV_32A; device_base=\"EV\"; consumption=7.7; duration=7; allowed=[ [2,7] ]\n  - task_id=EV_48A; device_base=\"EV\"; consumption=11.5; duration=6; allowed=[ [8,11] ]\n  - task_id=AirPurifier; device_base=\"AirPurifier\"; consumption=0.09; duration=6; allowed=[ [13,16] ]\n  - task_id=Dryer_1; device_base=\"Dryer\"; consumption=2.8; duration=3; allowed=[ [13,17] ]\n  - task_id=WaterBoost; device_base=\"WaterBoost\"; consumption=4.5; duration=1; allowed=[ [4,8] ]\n  - task_id=Sauna; device_base=\"Sauna\"; consumption=6.0; duration=1; allowed=[ [15,16] ]\n\n## PREFERENCES (optional, free-form, first person)\nYou may describe scheduling preferences in words. IMPORTANT: Feasibility is fully determined by the TASK CATALOG (allowed start times, durations, consumption).\nUse statements like \"I prefer...\", \"I need...\", \"Please avoid...\". Examples (soft guidance only):\n- Reasons you favor certain times that are ALREADY allowed (e.g., evenings for laundry).\n- Willingness to shift within the allowed window to reduce neighborhood peaks.\n\nDo NOT request start times outside the allowed windows. Do NOT change durations or consumptions.\n\nDo NOT output JSON; send only this header line, the TASK CATALOG, and your preference text."
  },
  "catalog_path": "envs/SmartGrid/data/devices.json"
}